// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client"
  output   = "../generated/prisma"
}

datasource db {
  provider = "postgresql"
}

model PostJob {
  id               Int      @id @default(autoincrement())
  jobName          String
  jobType          String
  jobDescription   String   @db.Text
  candidateNeeded  Int
  minimumSalary    Int?
  maximumSalary    Int?
  fullNameRequired      String @default("Mandatory") // "Mandatory" | "Optional" | "Off"
  photoProfileRequired  String @default("Mandatory")
  genderRequired        String @default("Optional")
  domicileRequired      String @default("Optional")
  emailRequired         String @default("Mandatory")
  phoneNumberRequired   String @default("Mandatory")
  linkedinLinkRequired  String @default("Optional")
  dateOfBirthRequired   String @default("Optional")

  applications    CandidateApplication[]
  
  createdAt        DateTime @default(now())
}

model CandidateApplication {
  id               Int      @id @default(autoincrement())
  postJobId       Int
  postJob        PostJob   @relation(fields: [postJobId], references: [id])
  fullName        String
  email           String
  phoneNumber     String
  dateOfBirth    DateTime?
  domicile        String?
  gender         String?
  linkedinLink   String?

  createdAt      DateTime @default(now())

  @@index([postJobId])
}

